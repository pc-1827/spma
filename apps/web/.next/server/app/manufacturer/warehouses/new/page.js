(()=>{var e={};e.id=142,e.ids=[142],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},81367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=r(63400),a=r(23563),n=r(33840),i=r.n(n),o=r(68215),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["manufacturer",{children:["warehouses",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68120)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/warehouses/new/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,78681)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/warehouses/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9685)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21208)),"/home/pc1827/projects/spma/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,34023,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/pc1827/projects/spma/apps/web/src/app/manufacturer/warehouses/new/page.tsx"],d="/manufacturer/warehouses/new/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/manufacturer/warehouses/new/page",pathname:"/manufacturer/warehouses/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},87374:(e,t,r)=>{let s={"24ccf721ae19d75a052e298d07603496c6020e07":()=>Promise.resolve().then(r.bind(r,74442)).then(e=>e.createManufacturer),"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f":()=>Promise.resolve().then(r.bind(r,13939)).then(e=>e.revalidate)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"24ccf721ae19d75a052e298d07603496c6020e07":a.bind(null,"24ccf721ae19d75a052e298d07603496c6020e07"),"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f":a.bind(null,"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f")}},60984:(e,t,r)=>{Promise.resolve().then(r.bind(r,99)),Promise.resolve().then(r.bind(r,46992)),Promise.resolve().then(r.t.bind(r,29543,23))},81497:(e,t,r)=>{Promise.resolve().then(r.bind(r,58592)),Promise.resolve().then(r.t.bind(r,29543,23))},8373:()=>{},79826:(e,t,r)=>{"use strict";r.d(t,{A:()=>s}),r(18920);var s=(0,r(91794).$)("4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f")},5197:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var s=r(84417);async function a({document:e,variables:t,apiSecret:r,config:a}){let n=await fetch("/api/auth/token").then(e=>e.json());return(0,s.x)({document:e,apiSecret:r,config:a,variables:t,token:n})}},11937:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var s=r(88290),a=r(17225),n=r(36255);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Textarea"},46992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CreateManufacturerAccount:()=>i});var s=r(88290),a=r(17225);r(18920);var n=(0,r(91794).$)("24ccf721ae19d75a052e298d07603496c6020e07");let i=({uid:e})=>{let[t,r]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let t=async()=>{try{r(!0),await new Promise(e=>setTimeout(e,4e3)),await n({uid:e})}finally{r(!1)}};e&&t()},[e]),t)?s.jsx("div",{children:"Creating manufacturer account..."}):null}},58592:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CreateWarehouse:()=>C,CreateWarehouseContent:()=>q,MapMarker:()=>M});var s=r(88290),a=r(27934),n=r(99476),i=r(38862);let o=()=>(0,n.cI)({resolver:(0,a.F)(i.Xd)}),l=({children:e})=>{let t=o();return s.jsx(n.RV,{...t,children:e})};var c=r(99709),u=r(3491),d=r(20539),x=r(96450),p=r(17225),m=r(87137),h=r(91514),f=r(42559);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,r(9524).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var b=r(31850),v=r(70740);function y({onLocationChange:e}){let[t,r]=p.useState(!1),[a,n]=p.useState(""),{loading:i,setSearchText:o,locationInfo:l=[]}=(0,b.VC)();p.useEffect(()=>{o(a)},[o,a]);let{current:u}=(0,v.Sx)();return(0,s.jsxs)("div",{className:"relative",children:[s.jsx(c.I,{placeholder:"Search place...",value:a,onChange:e=>{r(e.target.value.length>0),n(e.target.value)},className:"border border-white bg-white/50"}),t?(0,s.jsxs)("div",{children:[i&&s.jsx(g,{}),s.jsx("div",{className:"absolute z-10 mt-0.5 overflow-hidden rounded-lg top-full",children:l?.map(t=>s.jsx("button",{className:"block w-full p-2 text-left underline transition-all underline-offset-4 hover:bg-white bg-white/30 backdrop-blur",onClick:()=>{let{latLng:[s,a]}=t;e&&e({latitude:s,longitude:a,zoom:10}),r(!1),n(""),u?.flyTo({center:{lat:s,lng:a},essential:!0})},children:t.placeName},t.placeName))})]}):null]})}var j=r(5197),w=r(74138),k=r(11937),P=r(79826),N=r(59248);let C=({warehouseRole:e,redirectUrl:t})=>s.jsx(l,{children:s.jsx(q,{warehouseRole:e,redirectUrl:t})}),q=({warehouseRole:e,redirectUrl:t})=>{let{register:r,handleSubmit:a,reset:i,setValue:o}=(0,n.Gc)(),l=(0,N.useRouter)();return(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("form",{onSubmit:a(async({name:r,description:s,address:a})=>{let{data:n,error:o}=await (0,j.k)({document:w.wb,variables:{createWarehouseInput:{address:a,name:r,description:s,...e}}});n&&((0,P.A)(w.CN.Query.myWarehouses),l.replace(t),i()),o&&alert(o)}),className:"space-y-2",children:[s.jsx("h1",{className:"mb-2 text-lg font-semibold",children:"Create warehouse"})," ",s.jsx(c.I,{...r("name"),placeholder:"Warehouse name"}),s.jsx(k.g,{...r("description"),placeholder:"Warehouse description"}),s.jsx(k.g,{...r("address.address"),placeholder:"Warehouse address"}),s.jsx("button",{type:"submit",children:"Create warehouse"})]}),(0,s.jsxs)(d.D,{initialViewState:u.NW,children:[s.jsx(M,{initialLocation:u.NW}),(0,s.jsxs)(m.s,{position:"left-top",children:[s.jsx(y,{onLocationChange:e=>{o("address.latitude",e.latitude),o("address.longitude",e.longitude)}}),s.jsx(x.li,{children:s.jsx(x.mk,{onClick:e=>{let t=parseFloat(e.lat.toFixed(6)),r=parseFloat(e.lng.toFixed(6));o("address.latitude",t,{shouldValidate:!0}),o("address.longitude",r,{shouldValidate:!0})}})})]})]})]})},M=({initialLocation:e,Icon:t=h.Z})=>{let{setValue:r}=(0,n.Gc)(),{address:a}=(0,n.qo)();return(0,p.useEffect)(()=>{if(e){let{latitude:t,longitude:s}=e;r("address",{latitude:t,longitude:s,address:""})}},[e,r]),s.jsx(f.J,{pitchAlignment:"auto",longitude:a?.longitude||0,latitude:a?.latitude||0,draggable:!0,onDragEnd:({lngLat:e})=>{let{lat:t,lng:s}=e;r("address.latitude",t||0),r("address.longitude",s||0)},children:s.jsx(t,{className:"w-8 h-8 p-1.5"})})}},20539:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});var s=r(88290);r(17225);var a=r(70740);let n=({height:e="calc(100vh - 4rem)",...t})=>(0,s.jsxs)(a.ZP,{...t,mapStyle:"mapbox://styles/mapbox/dark-v10",mapboxAccessToken:"pk.eyJ1IjoiaGlqaWFuZ3RhbyIsImEiOiJjampxcjFnb3E2NTB5M3BvM253ZHV5YjhjIn0.WneUon5qFigfJRJ3oaZ3Ow",style:{height:e},pitch:22.5,scrollZoom:!1,doubleClickZoom:!1,children:[s.jsx(i,{}),t.children]}),i=()=>{let{current:e}=(0,a.Sx)();return e?.on("style.load",()=>{e?.getMap().setFog({color:"rgb(250,250,250)",range:[1,10],"high-color":"rgb(200,200,200)","horizon-blend":.05,"space-color":"rgb(150, 150, 150)","star-intensity":.5})}),null}},42559:(e,t,r)=>{"use strict";r.d(t,{J:()=>n});var s=r(88290),a=r(70740);let n=e=>s.jsx(a.Jx,{...e})},87137:(e,t,r)=>{"use strict";r.d(t,{s:()=>a});var s=r(88290);let a=({children:e,className:t,position:r})=>s.jsx("div",{className:`absolute space-y-2 p-2 ${{"left-top":"top-0 left-0 flex flex-col items-start","left-center":"top-1/2 -translate-y-1/2 left-0 flex flex-col items-start","left-bottom":"bottom-0 left-0 flex flex-col items-start","center-bottom":"bottom-0 left-1/2 -translate-x-1/2 flex flex-col items-center text-center","right-bottom":"bottom-0 right-0 flex flex-col items-end text-right","right-center":"top-1/2 -translate-y-1/2 right-0 flex flex-col items-end text-right","right-top":"top-0 right-0 flex flex-col items-end text-right","center-top":"top-0 left-1/2 -translate-x-1/2 flex flex-col items-center text-center","center-center":"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center text-center"}[r]} ${t}`,children:e})},96450:(e,t,r)=>{"use strict";r.d(t,{li:()=>x,mk:()=>d});var s=r(88290),a=r(51781),n=r(76657),i=r(91514),o=r(70740);let l=({children:e})=>s.jsx("div",{className:"flex flex-col overflow-hidden border border-white divide-y divide-white rounded shadow-lg bg-white/50 backdrop-blur backdrop-filter",children:e}),c=()=>{let{current:e}=(0,o.Sx)();return s.jsx("button",{className:"rounded-none hover:bg-white ",type:"button",onClick:()=>e?.zoomIn(),children:s.jsx(a.Z,{className:"w-8 h-8 p-1.5 "})})},u=()=>{let{current:e}=(0,o.Sx)();return s.jsx("button",{className:"rounded-none hover:bg-white ",type:"button",onClick:()=>e?.zoomOut(),children:s.jsx(n.Z,{className:"w-8 h-8 p-1.5 "})})},d=({onClick:e,Icon:t=i.Z})=>{let{current:r}=(0,o.Sx)();return s.jsx("button",{className:" hover:bg-white",type:"button",onClick:()=>{let{lat:t,lng:s}=r?.getCenter();e({lat:t,lng:s})},children:s.jsx(t,{className:"w-8 h-8 p-1.5 text-black"})})};l.ZoomIn=c,l.ZoomOut=u;let x=({children:e})=>(0,s.jsxs)(l,{children:[s.jsx(c,{}),s.jsx(u,{}),e]})},3491:(e,t,r)=>{"use strict";r.d(t,{Kx:()=>a,NW:()=>s});let s={longitude:72.878723,latitude:19.077793,zoom:8},a=[{lat:18.8875712067,lng:72.7443244885},{lat:19.2406186802,lng:73.0423213886}]},9685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(80945),a=r(47473),n=r.n(a),i=r(42759);let o=(0,i.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx`),{__esModule:l,$$typeof:c}=o;o.default;let u=(0,i.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx#CreateManufacturerAccount`);var d=r(70482);let x=({manufacturer:e})=>s.jsx("div",{className:"flex flex-col w-full max-w-xs gap-2",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[s.jsx(d.r,{href:"/manufacturer",children:"Dashboard"}),s.jsx(d.r,{href:"/manufacturer/products",children:"Manage Products"}),e?.products.map(e=>s.jsx(d.r,{href:`/manufacturer/products/${e.id}`,className:"translate-x-4",children:e.name})),s.jsx(d.r,{href:"/manufacturer/warehouses",children:"Manage Warehouses"}),e?.warehouses.map(e=>s.jsx(d.r,{href:`/manufacturer/warehouses/${e.id}`,className:"translate-x-4",children:e.name}))]})});var p=r(71583),m=r(68331),h=r(74441);async function f({children:e}){let t=await (0,m.v)();if(!t?.user?.uid)return s.jsx(n(),{href:"/api/auth/signin",children:"Login"});let{data:r,error:a}=await (0,p.H)({document:h.xb,variables:{where:{uid:t.user.uid}},config:{next:{tags:[h.CN.Query.Manufacturer]}}}),i=r?.manufacturer;return i?(0,s.jsxs)("div",{className:"flex mt-2 ",children:[s.jsx("div",{className:"hidden w-full max-w-xs min-w-min sm:block",children:s.jsx(x,{manufacturer:i})}),s.jsx("div",{className:"flex-grow ",children:s.jsx("div",{className:"bg-background",children:e})})]}):s.jsx(u,{uid:t.user.uid})}},78681:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(80945);function a(){return s.jsx("div",{children:"Fetching..."})}},68120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(80945),a=r(68331),n=r(60905),i=r(47473),o=r.n(i);async function l(){let e=await (0,a.v)();return e?.user?s.jsx(n.oY,{redirectUrl:"/manufacturer/warehouses",warehouseRole:{manufacturerId:e.user.uid}}):s.jsx(o(),{href:"/signin",children:"Sign in"})}},74442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createManufacturer:()=>o});var s=r(20074);r(79117);var a=r(8487),n=r(20829),i=r(79278);async function o({uid:e}){let{data:t}=await (0,n.fetchGraphQLServer)({document:i.CreateManufacturerDocument,variables:{createManufacturerInput:{uid:e}}});t?.createManufacturer&&(0,a.revalidateTag)(i.namedOperations.Query.Manufacturer)}(0,r(28670).ensureServerEntryExports)([o]),(0,s.createActionProxy)("24ccf721ae19d75a052e298d07603496c6020e07",o)},13939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{revalidate:()=>i});var s=r(20074);r(79117);var a=r(8487),n=r(28670);let i=e=>{(0,a.revalidateTag)(e)};(0,n.ensureServerEntryExports)([i]),(0,s.createActionProxy)("4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f",i)},60905:(e,t,r)=>{"use strict";r.d(t,{oY:()=>o});var s=r(42759);let a=(0,s.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateWarehouse.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,s.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateWarehouse.tsx#CreateWarehouse`);(0,s.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateWarehouse.tsx#CreateWarehouseContent`),(0,s.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateWarehouse.tsx#MapMarker`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[54,890,78,292,973,266,415,327,315,446,331,780,234],()=>r(81367));module.exports=s})();