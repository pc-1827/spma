(()=>{var e={};e.id=879,e.ids=[879],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},17915:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var a=r(63400),s=r(23563),o=r(33840),n=r.n(o),i=r(68215),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["manufacturer",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16551)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/[id]/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,76826)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9685)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,21208)),"/home/pc1827/projects/spma/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,34023,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/[id]/page.tsx"],d="/manufacturer/products/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/manufacturer/products/[id]/page",pathname:"/manufacturer/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85970:(e,t,r)=>{let a={"24ccf721ae19d75a052e298d07603496c6020e07":()=>Promise.resolve().then(r.bind(r,74442)).then(e=>e.createManufacturer)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"24ccf721ae19d75a052e298d07603496c6020e07":s.bind(null,"24ccf721ae19d75a052e298d07603496c6020e07")}},60984:(e,t,r)=>{Promise.resolve().then(r.bind(r,99)),Promise.resolve().then(r.bind(r,46992)),Promise.resolve().then(r.t.bind(r,29543,23))},91193:(e,t,r)=>{Promise.resolve().then(r.bind(r,786))},8373:()=>{},43299:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>o,Rn:()=>n});var a=r(88290),s=r(36255);let o=({children:e,className:t})=>a.jsx("div",{className:(0,s.cn)("text-xl font-semibold capitalize mb-2",t),children:e}),n=({children:e,className:t})=>a.jsx("div",{className:(0,s.cn)("text-lg font-semibold capitalize mb-2",t),children:e})},46992:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CreateManufacturerAccount:()=>n});var a=r(88290),s=r(17225);r(18920);var o=(0,r(91794).$)("24ccf721ae19d75a052e298d07603496c6020e07");let n=({uid:e})=>{let[t,r]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let t=async()=>{try{r(!0),await new Promise(e=>setTimeout(e,4e3)),await o({uid:e})}finally{r(!1)}};e&&t()},[e]),t)?a.jsx("div",{children:"Creating manufacturer account..."}):null}},20539:(e,t,r)=>{"use strict";r.d(t,{D:()=>o});var a=r(88290);r(17225);var s=r(70740);let o=({height:e="calc(100vh - 4rem)",...t})=>(0,a.jsxs)(s.ZP,{...t,mapStyle:"mapbox://styles/mapbox/dark-v10",mapboxAccessToken:"pk.eyJ1IjoiaGlqaWFuZ3RhbyIsImEiOiJjampxcjFnb3E2NTB5M3BvM253ZHV5YjhjIn0.WneUon5qFigfJRJ3oaZ3Ow",style:{height:e},pitch:22.5,scrollZoom:!1,doubleClickZoom:!1,children:[a.jsx(n,{}),t.children]}),n=()=>{let{current:e}=(0,s.Sx)();return e?.on("style.load",()=>{e?.getMap().setFog({color:"rgb(250,250,250)",range:[1,10],"high-color":"rgb(200,200,200)","horizon-blend":.05,"space-color":"rgb(150, 150, 150)","star-intensity":.5})}),null}},42559:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(88290),s=r(70740);let o=e=>a.jsx(s.Jx,{...e})},87137:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var a=r(88290);let s=({children:e,className:t,position:r})=>a.jsx("div",{className:`absolute space-y-2 p-2 ${{"left-top":"top-0 left-0 flex flex-col items-start","left-center":"top-1/2 -translate-y-1/2 left-0 flex flex-col items-start","left-bottom":"bottom-0 left-0 flex flex-col items-start","center-bottom":"bottom-0 left-1/2 -translate-x-1/2 flex flex-col items-center text-center","right-bottom":"bottom-0 right-0 flex flex-col items-end text-right","right-center":"top-1/2 -translate-y-1/2 right-0 flex flex-col items-end text-right","right-top":"top-0 right-0 flex flex-col items-end text-right","center-top":"top-0 left-1/2 -translate-x-1/2 flex flex-col items-center text-center","center-center":"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center text-center"}[r]} ${t}`,children:e})},96450:(e,t,r)=>{"use strict";r.d(t,{li:()=>p,mk:()=>d});var a=r(88290),s=r(51781),o=r(76657),n=r(91514),i=r(70740);let l=({children:e})=>a.jsx("div",{className:"flex flex-col overflow-hidden border border-white divide-y divide-white rounded shadow-lg bg-white/50 backdrop-blur backdrop-filter",children:e}),c=()=>{let{current:e}=(0,i.Sx)();return a.jsx("button",{className:"rounded-none hover:bg-white ",type:"button",onClick:()=>e?.zoomIn(),children:a.jsx(s.Z,{className:"w-8 h-8 p-1.5 "})})},u=()=>{let{current:e}=(0,i.Sx)();return a.jsx("button",{className:"rounded-none hover:bg-white ",type:"button",onClick:()=>e?.zoomOut(),children:a.jsx(o.Z,{className:"w-8 h-8 p-1.5 "})})},d=({onClick:e,Icon:t=n.Z})=>{let{current:r}=(0,i.Sx)();return a.jsx("button",{className:" hover:bg-white",type:"button",onClick:()=>{let{lat:t,lng:a}=r?.getCenter();e({lat:t,lng:a})},children:a.jsx(t,{className:"w-8 h-8 p-1.5 text-black"})})};l.ZoomIn=c,l.ZoomOut=u;let p=({children:e})=>(0,a.jsxs)(l,{children:[a.jsx(c,{}),a.jsx(u,{}),e]})},786:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProductFlow:()=>v,StyledIcon:()=>j});var a=r(88290),s=r(20539),o=r(3491),n=r(42559),i=r(87137),l=r(9524);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);var u=r(91514);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,l.Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);r(17225);var p=r(70740);let x=(e,t)=>({latitude:(e.latitude+t.latitude)/2,longitude:(e.longitude+t.longitude)/2}),h=({from:e,to:t,children:r,lineId:s})=>{if(!e||!t)return null;let o=x(e,t),n=[[e.longitude,e.latitude],[t.longitude,t.latitude]];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.Hw,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:n}},children:[a.jsx(p.mh,{id:`lineLayer-${s}`,type:"line",source:`source-${s}`,paint:{"line-color":"rgb(0,0,0)","line-width":1.5,"line-dasharray":[6,3]}}),a.jsx(p.mh,{id:`circleLayer-${s}`,type:"circle",source:`circleSource-${s}`,paint:{"circle-radius":4,"circle-color":"rgb(0,0,0)"}})]}),r&&a.jsx(p.Jx,{longitude:o.longitude,latitude:o.latitude,children:a.jsx("div",{className:"px-1 text-xs text-white rounded-full bg-black/50",children:r})})]})};var m=r(43299),f=r(96450);let g=e=>{let t=new Map;return e?.forEach(e=>{if(!e.fromWarehouse||!e.toWarehouse)return;let r=`${e.fromWarehouse.id},${e.toWarehouse.id}`;if(t.has(r)){let a=t.get(r);a&&(a.quantity+=e.quantity)}else t.set(r,{...e})}),Array.from(t.values())},b=e=>{let t=[];if(e.forEach(e=>{e.toWarehouse?.location&&t.push({latitude:e.toWarehouse.location.latitude,longitude:e.toWarehouse.location.longitude}),e.fromWarehouse?.location&&t.push({latitude:e.fromWarehouse.location.latitude,longitude:e.fromWarehouse.location.longitude})}),0===t.length)return o.Kx;let r=t[0].latitude,a=t[0].latitude,s=t[0].longitude,n=t[0].longitude;t.forEach(e=>{r=Math.min(r,e.latitude),a=Math.max(a,e.latitude),s=Math.min(s,e.longitude),n=Math.max(n,e.longitude)});let i=a-r,l=n-s;return r-=.1*i,a+=.1*i,s-=.1*l,n+=.1*l,[{lat:r,lng:s},{lat:a,lng:n}]},v=({product:e})=>(0,a.jsxs)("div",{children:[a.jsx(m.Rn,{children:"Product flow"}),(0,a.jsxs)(s.D,{initialViewState:{bounds:b(e?.transactions||[])},children:[a.jsx(i.s,{position:"right-center",children:a.jsx(f.li,{})}),e?.inventories.map(e=>a.jsxs(n.J,{anchor:"bottom",offset:[0,-6],longitude:e.warehouse.location?.longitude||0,latitude:e.warehouse.location?.latitude||0,children:[e.warehouse.manufacturer?a.jsx(j,{Icon:c}):null,e.warehouse.distributor?a.jsx(j,{Icon:u.Z}):null,e.warehouse.retailer?a.jsx(j,{Icon:d}):null,a.jsx("div",{className:"absolute p-1 font-semibold translate-y-1/3 -translate-x-1/3 bottom-full left-full",children:e.quantity})]},e.id)),g(e?.transactions).map(e=>a.jsx(h,{from:e.fromWarehouse?.location,to:e.toWarehouse?.location,lineId:`${e.id}`,children:e.quantity},e.id))]})]}),j=({Icon:e})=>a.jsx(e,{className:"stroke-2 p-0.5 rounded shadow-lg shadow-black/20 bg-black/80 border border-black text-white"})},3491:(e,t,r)=>{"use strict";r.d(t,{Kx:()=>s,NW:()=>a});let a={longitude:72.878723,latitude:19.077793,zoom:8},s=[{lat:18.8875712067,lng:72.7443244885},{lat:19.2406186802,lng:73.0423213886}]},9685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var a=r(80945),s=r(47473),o=r.n(s),n=r(42759);let i=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx`),{__esModule:l,$$typeof:c}=i;i.default;let u=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx#CreateManufacturerAccount`);var d=r(70482);let p=({manufacturer:e})=>a.jsx("div",{className:"flex flex-col w-full max-w-xs gap-2",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx(d.r,{href:"/manufacturer",children:"Dashboard"}),a.jsx(d.r,{href:"/manufacturer/products",children:"Manage Products"}),e?.products.map(e=>a.jsx(d.r,{href:`/manufacturer/products/${e.id}`,className:"translate-x-4",children:e.name})),a.jsx(d.r,{href:"/manufacturer/warehouses",children:"Manage Warehouses"}),e?.warehouses.map(e=>a.jsx(d.r,{href:`/manufacturer/warehouses/${e.id}`,className:"translate-x-4",children:e.name}))]})});var x=r(71583),h=r(68331),m=r(74441);async function f({children:e}){let t=await (0,h.v)();if(!t?.user?.uid)return a.jsx(o(),{href:"/api/auth/signin",children:"Login"});let{data:r,error:s}=await (0,x.H)({document:m.xb,variables:{where:{uid:t.user.uid}},config:{next:{tags:[m.CN.Query.Manufacturer]}}}),n=r?.manufacturer;return n?(0,a.jsxs)("div",{className:"flex mt-2 ",children:[a.jsx("div",{className:"hidden w-full max-w-xs min-w-min sm:block",children:a.jsx(p,{manufacturer:n})}),a.jsx("div",{className:"flex-grow ",children:a.jsx("div",{className:"bg-background",children:e})})]}):a.jsx(u,{uid:t.user.uid})}},16551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(80945),s=r(71583),o=r(74441),n=r(42759);let i=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/ProductFlow.tsx`),{__esModule:l,$$typeof:c}=i;i.default;let u=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/ProductFlow.tsx#ProductFlow`);(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/ProductFlow.tsx#StyledIcon`);var d=r(14660),p=r(83112);let x=({product:e})=>(0,a.jsxs)("div",{children:[a.jsx(p.Dx,{children:e.name}),a.jsx(p.dk,{children:e.description}),a.jsx(p.dk,{children:(0,d.W)(new Date(e.createdAt),"PPp")})]});async function h({params:e}){let{data:t,error:r}=await (0,s.H)({document:o.MP,variables:{where:{id:+e.id}},config:{next:{tags:[o.CN.Query.product]}}});return t?.product?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(x,{product:t.product}),a.jsx(u,{product:t.product})]}):a.jsx("div",{children:"Product not found."})}},76826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(80945);function s(){return a.jsx("div",{children:"Fetching..."})}},74442:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createManufacturer:()=>i});var a=r(20074);r(79117);var s=r(8487),o=r(20829),n=r(79278);async function i({uid:e}){let{data:t}=await (0,o.fetchGraphQLServer)({document:n.CreateManufacturerDocument,variables:{createManufacturerInput:{uid:e}}});t?.createManufacturer&&(0,s.revalidateTag)(n.namedOperations.Query.Manufacturer)}(0,r(28670).ensureServerEntryExports)([i]),(0,a.createActionProxy)("24ccf721ae19d75a052e298d07603496c6020e07",i)},83112:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>o,Rn:()=>n,dk:()=>i});var a=r(80945),s=r(65810);let o=({children:e,className:t})=>a.jsx("div",{className:(0,s.cn)("text-xl font-semibold capitalize mb-2",t),children:e}),n=({children:e,className:t})=>a.jsx("div",{className:(0,s.cn)("text-lg font-semibold capitalize mb-2",t),children:e}),i=({children:e,className:t})=>a.jsx("div",{className:(0,s.cn)("text-gray-700",t),children:e})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[54,890,78,292,973,266,556,315,446,331,780],()=>r(17915));module.exports=a})();