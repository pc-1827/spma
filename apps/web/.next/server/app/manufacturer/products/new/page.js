(()=>{var e={};e.id=118,e.ids=[118],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},8993:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>m,tree:()=>u});var a=t(63400),s=t(23563),n=t(33840),i=t.n(n),c=t(68215),o={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>c[e]);t.d(r,o);let u=["",{children:["manufacturer",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,59379)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/new/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(t.bind(t,76826)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9685)),"/home/pc1827/projects/spma/apps/web/src/app/manufacturer/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,21208)),"/home/pc1827/projects/spma/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,34023,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/home/pc1827/projects/spma/apps/web/src/app/manufacturer/products/new/page.tsx"],d="/manufacturer/products/new/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/manufacturer/products/new/page",pathname:"/manufacturer/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},87374:(e,r,t)=>{let a={"24ccf721ae19d75a052e298d07603496c6020e07":()=>Promise.resolve().then(t.bind(t,74442)).then(e=>e.createManufacturer),"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f":()=>Promise.resolve().then(t.bind(t,13939)).then(e=>e.revalidate)};async function s(e,...r){return(await a[e]()).apply(null,r)}e.exports={"24ccf721ae19d75a052e298d07603496c6020e07":s.bind(null,"24ccf721ae19d75a052e298d07603496c6020e07"),"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f":s.bind(null,"4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f")}},60984:(e,r,t)=>{Promise.resolve().then(t.bind(t,99)),Promise.resolve().then(t.bind(t,46992)),Promise.resolve().then(t.t.bind(t,29543,23))},17688:(e,r,t)=>{Promise.resolve().then(t.bind(t,21837))},8373:()=>{},79826:(e,r,t)=>{"use strict";t.d(r,{A:()=>a}),t(18920);var a=(0,t(91794).$)("4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f")},5197:(e,r,t)=>{"use strict";t.d(r,{k:()=>s});var a=t(84417);async function s({document:e,variables:r,apiSecret:t,config:s}){let n=await fetch("/api/auth/token").then(e=>e.json());return(0,a.x)({document:e,apiSecret:t,config:s,variables:r,token:n})}},15923:(e,r,t)=>{"use strict";t.d(r,{z:()=>s});var a=t(88290);let s=t(17225).forwardRef(({className:e,...r},t)=>a.jsx("button",{ref:t,className:`inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors
      bg-primary text-primary-foreground hover:bg-primary/90
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
      disabled:opacity-50 disabled:pointer-events-none
      h-10 px-4 ${e}`,...r}));s.displayName="Button"},11937:(e,r,t)=>{"use strict";t.d(r,{g:()=>i});var a=t(88290),s=t(17225),n=t(36255);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));i.displayName="Textarea"},43299:(e,r,t)=>{"use strict";t.d(r,{Dx:()=>n,Rn:()=>i});var a=t(88290),s=t(36255);let n=({children:e,className:r})=>a.jsx("div",{className:(0,s.cn)("text-xl font-semibold capitalize mb-2",r),children:e}),i=({children:e,className:r})=>a.jsx("div",{className:(0,s.cn)("text-lg font-semibold capitalize mb-2",r),children:e})},46992:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CreateManufacturerAccount:()=>i});var a=t(88290),s=t(17225);t(18920);var n=(0,t(91794).$)("24ccf721ae19d75a052e298d07603496c6020e07");let i=({uid:e})=>{let[r,t]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let r=async()=>{try{t(!0),await new Promise(e=>setTimeout(e,4e3)),await n({uid:e})}finally{t(!1)}};e&&r()},[e]),r)?a.jsx("div",{children:"Creating manufacturer account..."}):null}},21837:(e,r,t)=>{"use strict";t.r(r),t.d(r,{CreateProduct:()=>y});var a=t(88290),s=t(27934),n=t(99476),i=t(38862);let c=()=>(0,n.cI)({resolver:(0,s.F)(i.C3)});var o=t(99709),u=t(11937);/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(9524).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var d=t(57712),p=t.n(d);let m=({src:e,clearImage:r,children:t})=>e?(0,a.jsxs)("div",{className:"relative flex items-center justify-center w-full h-full min-h-[12rem]",children:[a.jsx("button",{onClick:r,className:"z-10 p-1 text-white bg-red/50",children:a.jsx(l,{})}),a.jsx(p(),{className:"absolute object-cover h-full z-full ",alt:"",width:300,height:300,src:URL.createObjectURL(e)})]}):a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100",children:t});var f=t(31850),x=t(79826),h=t(74138),g=t(59248),v=t(5197),b=t(43299),j=t(15923);let y=({manufacturerId:e})=>{let{register:r,handleSubmit:t,reset:s,resetField:i,control:l,watch:d}=c(),{image:p}=d(),[,y]=(0,f.iN)(),w=(0,g.useRouter)();return(0,a.jsxs)("div",{children:[a.jsx(b.Dx,{className:"mb-2 text-lg font-semibold",children:"Create product"})," ",(0,a.jsxs)("form",{onSubmit:t(async({name:r,description:t,image:a})=>{let n=await y(a);console.log("name, description, image",r,t,a);let{data:i,error:c}=await (0,v.k)({document:h.E5,variables:{createProductInput:{image:n[0],name:r,description:t,manufacturerId:e}}});i&&(s(),(0,x.A)(h.CN.Query.myProducts),w.replace("/manufacturer/products")),c&&alert(c)}),className:"flex gap-2",children:[a.jsx("div",{className:"w-48 h-48",children:a.jsx(m,{src:p?.[0],clearImage:()=>i("image"),children:a.jsx(n.Qr,{control:l,name:"image",render:({field:e})=>a.jsx(o.I,{type:"file",accept:"image/*",multiple:!1,onChange:r=>e.onChange(r?.target?.files)})})})}),(0,a.jsxs)("div",{className:"flex-grow space-y-2",children:[a.jsx(o.I,{...r("name"),placeholder:"Product name"}),a.jsx(u.g,{...r("description"),placeholder:"Product description"}),a.jsx(j.z,{type:"submit",children:"Create product"})]})]})]})}},97365:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{unstable_getImgProps:function(){return o},default:function(){return u}});let a=t(91475),s=t(46361),n=t(45448),i=t(24490),c=a._(t(52856)),o=e=>{(0,n.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:r}=(0,s.getImgProps)(e,{defaultLoader:c.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}},u=i.Image},57712:(e,r,t)=>{e.exports=t(97365)},9685:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a=t(80945),s=t(47473),n=t.n(s),i=t(42759);let c=(0,i.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx`),{__esModule:o,$$typeof:u}=c;c.default;let l=(0,i.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateManufacturerAccount.tsx#CreateManufacturerAccount`);var d=t(70482);let p=({manufacturer:e})=>a.jsx("div",{className:"flex flex-col w-full max-w-xs gap-2",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx(d.r,{href:"/manufacturer",children:"Dashboard"}),a.jsx(d.r,{href:"/manufacturer/products",children:"Manage Products"}),e?.products.map(e=>a.jsx(d.r,{href:`/manufacturer/products/${e.id}`,className:"translate-x-4",children:e.name})),a.jsx(d.r,{href:"/manufacturer/warehouses",children:"Manage Warehouses"}),e?.warehouses.map(e=>a.jsx(d.r,{href:`/manufacturer/warehouses/${e.id}`,className:"translate-x-4",children:e.name}))]})});var m=t(71583),f=t(68331),x=t(74441);async function h({children:e}){let r=await (0,f.v)();if(!r?.user?.uid)return a.jsx(n(),{href:"/api/auth/signin",children:"Login"});let{data:t,error:s}=await (0,m.H)({document:x.xb,variables:{where:{uid:r.user.uid}},config:{next:{tags:[x.CN.Query.Manufacturer]}}}),i=t?.manufacturer;return i?(0,a.jsxs)("div",{className:"flex mt-2 ",children:[a.jsx("div",{className:"hidden w-full max-w-xs min-w-min sm:block",children:a.jsx(p,{manufacturer:i})}),a.jsx("div",{className:"flex-grow ",children:a.jsx("div",{className:"bg-background",children:e})})]}):a.jsx(l,{uid:r.user.uid})}},76826:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(80945);function s(){return a.jsx("div",{children:"Fetching..."})}},59379:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var a=t(80945),s=t(68331),n=t(42759);let i=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/templates/CreateProduct.tsx`),{__esModule:c,$$typeof:o}=i;i.default;let u=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/templates/CreateProduct.tsx#CreateProduct`);async function l(){let e=await (0,s.v)();return e?.user?.uid?a.jsx(u,{manufacturerId:e.user.uid}):null}},74442:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createManufacturer:()=>c});var a=t(20074);t(79117);var s=t(8487),n=t(20829),i=t(79278);async function c({uid:e}){let{data:r}=await (0,n.fetchGraphQLServer)({document:i.CreateManufacturerDocument,variables:{createManufacturerInput:{uid:e}}});r?.createManufacturer&&(0,s.revalidateTag)(i.namedOperations.Query.Manufacturer)}(0,t(28670).ensureServerEntryExports)([c]),(0,a.createActionProxy)("24ccf721ae19d75a052e298d07603496c6020e07",c)},13939:(e,r,t)=>{"use strict";t.r(r),t.d(r,{revalidate:()=>i});var a=t(20074);t(79117);var s=t(8487),n=t(28670);let i=e=>{(0,s.revalidateTag)(e)};(0,n.ensureServerEntryExports)([i]),(0,a.createActionProxy)("4649ad17d922e3ccf081fcb49c8b04e6e2a64d4f",i)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[54,890,78,292,973,266,415,327,490,446,331,780,234],()=>t(8993));module.exports=a})();