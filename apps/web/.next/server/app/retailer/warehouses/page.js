(()=>{var e={};e.id=681,e.ids=[681],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},69843:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=s(63400),a=s(23563),i=s(33840),n=s.n(i),l=s(68215),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(r,o);let c=["",{children:["retailer",{children:["warehouses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1149)),"/home/pc1827/projects/spma/apps/web/src/app/retailer/warehouses/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,9827)),"/home/pc1827/projects/spma/apps/web/src/app/retailer/warehouses/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,29447)),"/home/pc1827/projects/spma/apps/web/src/app/retailer/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,21208)),"/home/pc1827/projects/spma/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,34023,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,88393))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/pc1827/projects/spma/apps/web/src/app/retailer/warehouses/page.tsx"],u="/retailer/warehouses/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/retailer/warehouses/page",pathname:"/retailer/warehouses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},30972:(e,r,s)=>{let t={"740f81692264267fb8a6f4a1b7514030364fe911":()=>Promise.resolve().then(s.bind(s,69979)).then(e=>e.createRetailer)};async function a(e,...r){return(await t[e]()).apply(null,r)}e.exports={"740f81692264267fb8a6f4a1b7514030364fe911":a.bind(null,"740f81692264267fb8a6f4a1b7514030364fe911")}},34131:(e,r,s)=>{Promise.resolve().then(s.bind(s,22021)),Promise.resolve().then(s.bind(s,99)),Promise.resolve().then(s.bind(s,49997)),Promise.resolve().then(s.t.bind(s,29543,23))},67412:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,29543,23))},8373:()=>{},49997:(e,r,s)=>{"use strict";s.r(r),s.d(r,{CreateRetailerAccount:()=>n});var t=s(88290),a=s(17225);s(18920);var i=(0,s(91794).$)("740f81692264267fb8a6f4a1b7514030364fe911");let n=({uid:e})=>{let[r,s]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let r=async()=>{try{await i({uid:e})}finally{s(!1)}};e&&r()},[e]),r)?t.jsx("div",{children:"Creating Retailer account..."}):null}},29447:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var t=s(80945),a=s(47473),i=s.n(a),n=s(42759);let l=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateRetailer.tsx`),{__esModule:o,$$typeof:c}=l;l.default;let d=(0,n.createProxy)(String.raw`/home/pc1827/projects/spma/libs/ui/src/components/organisms/CreateRetailer.tsx#CreateRetailerAccount`);var u=s(70482),x=s(83112),p=s(2631),m=s(1916),h=s(9831);let f=({retailer:e})=>(0,t.jsxs)("div",{className:"flex flex-col w-full max-w-xs gap-2",children:[t.jsx("div",{className:"mb-2",children:t.jsx(x.Rn,{className:"text-xl font-semibold",children:e?.user.name})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[t.jsx(u.r,{href:"/retailer",children:"Dashboard"}),t.jsx(u.r,{href:"/retailer/warehouses",children:"Manage Warehouses"}),e?.warehouses.map(e=>t.jsx(u.r,{href:`/retailer/warehouses/${e.id}`,className:"pl-4",children:e.name}))]})]});function v({retailer:e}){return t.jsx("div",{className:"sm:hidden",children:(0,t.jsxs)(p.yo,{children:[t.jsx(p.aM,{asChild:!0,children:t.jsx(m.z,{children:t.jsx(h.Z,{className:"w-5 h-5"})})}),t.jsx(p.ue,{side:"left",children:t.jsx(f,{retailer:e})})]})})}var g=s(71583),b=s(68331),j=s(74441);async function y({children:e}){let r=await (0,b.v)();if(!r?.user?.uid)return t.jsx(i(),{href:"/api/auth/signin",children:"Login"});let{data:s,error:a}=await (0,g.H)({document:j.gB,variables:{where:{uid:r.user.uid}},config:{next:{tags:[j.CN.Query.retailer]}}}),n=s?.retailer;return n?(0,t.jsxs)("div",{className:"flex mt-2 ",children:[t.jsx("div",{className:"hidden w-full max-w-xs sm:block",children:t.jsx(f,{retailer:n})}),(0,t.jsxs)("div",{className:"flex-grow ",children:[t.jsx("div",{className:"sm:hidden",children:t.jsx(v,{retailer:n})}),t.jsx("div",{className:"bg-background",children:e})]})]}):t.jsx(d,{uid:r.user.uid})}},9827:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(80945);function a(){return t.jsx("div",{children:"Fetching warehouses."})}},1149:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(80945),a=s(71583),i=s(74441),n=s(47473),l=s.n(n),o=s(1949);async function c(){let{data:e,error:r}=await (0,a.H)({document:i.vc,variables:{orderBy:{createdAt:i.As.Desc}},config:{next:{tags:[i.CN.Query.myWarehouses]}}});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-6",children:[t.jsx("div",{children:"Warehouses"}),t.jsx(l(),{href:"/retailer/warehouses/new",children:"New"})]}),e?.myWarehouses.length===0?t.jsx("div",{children:"No warehouses found."}):null,e?.myWarehouses.map(e=>t.jsx(l(),{href:`/distributor/warehouses/${e.id}`,children:t.jsx(o.b,{warehouse:e})},e.id))]})}},69979:(e,r,s)=>{"use strict";s.r(r),s.d(r,{createRetailer:()=>l});var t=s(20074);s(79117);var a=s(8487),i=s(20829),n=s(79278);async function l({uid:e}){try{let{data:r,error:s}=await (0,i.fetchGraphQLServer)({document:n.CreateRetailerDocument,variables:{createRetailerInput:{uid:e}}});console.log(r,s),(0,a.revalidateTag)(n.namedOperations.Query.retailer)}catch(e){throw Error("Something went wrong")}}(0,s(28670).ensureServerEntryExports)([l]),(0,t.createActionProxy)("740f81692264267fb8a6f4a1b7514030364fe911",l)},1916:(e,r,s)=>{"use strict";s.d(r,{z:()=>a});var t=s(80945);let a=s(23162).forwardRef(({className:e,...r},s)=>t.jsx("button",{ref:s,className:`inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors
      bg-primary text-primary-foreground hover:bg-primary/90
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
      disabled:opacity-50 disabled:pointer-events-none
      h-10 px-4 ${e}`,...r}));a.displayName="Button"},83112:(e,r,s)=>{"use strict";s.d(r,{Dx:()=>i,Rn:()=>n,dk:()=>l});var t=s(80945),a=s(65810);let i=({children:e,className:r})=>t.jsx("div",{className:(0,a.cn)("text-xl font-semibold capitalize mb-2",r),children:e}),n=({children:e,className:r})=>t.jsx("div",{className:(0,a.cn)("text-lg font-semibold capitalize mb-2",r),children:e}),l=({children:e,className:r})=>t.jsx("div",{className:(0,a.cn)("text-gray-700",r),children:e})},62550:(e,r,s)=>{"use strict";s.d(r,{g:()=>l});var t=s(80945),a=s(99098),i=s(47473),n=s.n(i);let l=({lat:e,lng:r,children:s=t.jsx(a.Z,{})})=>{if(!e||!r)return null;let i=`https://www.google.com/maps/search/?api=1&query=${e},${r}`;return t.jsx(n(),{href:i,target:"_blank",rel:"noopener noreferrer",children:s})}},78659:(e,r,s)=>{"use strict";s.d(r,{_:()=>a});var t=s(80945);let a=({position:e,className:r="w-full shadow-xl aspect-square"})=>{if(!e.lat||!e.lng)return t.jsx("div",{className:"w-full bg-gray-100 shadow-xl aspect-square"});let s=`https://api.mapbox.com/styles/v1/mapbox/dark-v10/static/pin-s(${e.lng},${e.lat})/${e.lng},${e.lat},9,0/400x400?access_token=pk.eyJ1IjoiaGlqaWFuZ3RhbyIsImEiOiJjampxcjFnb3E2NTB5M3BvM253ZHV5YjhjIn0.WneUon5qFigfJRJ3oaZ3Ow`;return t.jsx("img",{src:s,alt:"Map",className:` ${r}`})}},1949:(e,r,s)=>{"use strict";s.d(r,{b:()=>l});var t=s(80945),a=s(14660),i=s(62550),n=s(78659);let l=({warehouse:e})=>(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsxs)("div",{className:"mb-2 ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center text-2xl font-semibold",children:["#",e.id]}),t.jsx("div",{className:"text-2xl font-semibold",children:e.name})]}),t.jsx("div",{className:"mt-4 text-sm",children:e.description}),t.jsx("div",{className:"text-sm",children:e.location?.address}),t.jsx("div",{className:"text-sm text-gray",children:(0,a.W)(new Date(e.createdAt),"PP")})]})," ",t.jsx(i.g,{lat:e.location?.latitude,lng:e.location?.longitude,children:t.jsx(n._,{position:{lat:e.location?.latitude,lng:e.location?.longitude},className:"border-2 border-white rounded-lg shadow-lg w-36 h-36"})})]})},99098:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(87189).Z)("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]])},9831:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});/**
 * @license lucide-react v0.302.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(87189).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[54,890,78,292,973,266,556,446,331,780],()=>s(69843));module.exports=t})();